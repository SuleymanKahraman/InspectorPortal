<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Mufettis Tanımlama</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="/assets/img/favicon.png" rel="icon">
    <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="/assets/vendor/quill/quill.snow.css" rel="stylesheet">
    <link href="/assets/vendor/quill/quill.bubble.css" rel="stylesheet">
    <link href="/assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="/assets/vendor/simple-datatables/style.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="/assets/css/style.css" rel="stylesheet">

</head>

<body>

    <!-- ======= Header ======= -->
    <header id="header" class="header fixed-top d-flex align-items-center">

        <div class="d-flex align-items-center justify-content-center">
            <a href="anasayfa.html" class="logo d-flex align-items-center">
                <img src="assets/img/logo.png" alt="">
                <span class="d-none d-lg-block">Teftiş Modül Admin</span>
            </a>
            <i class="bi bi-list toggle-sidebar-btn"></i>
        </div><!-- End Logo -->
        <div class="search-bar">
            <form class="search-form d-flex align-items-center" method="POST" action="#">
                <input type="text" name="query" placeholder="Ara" title="Enter search keyword">
                <button type="submit" title="Search"><i class="bi bi-search"></i></button>
            </form>
        </div> <!--End Search Bar -->

    </header><!-- End Header -->

    <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">

    <ul class="sidebar-nav" id="sidebar-nav">

      <li class="nav-item">
        <a class="nav-link " href="anasayfa.html">
          <i class="bi bi-grid"></i>
          <span>Ana Sayfa</span>
        </a>
      </li><!-- End Dashboard Nav -->

      <li class="nav-item">
        <a class="nav-link " href="mufettisTanimla.html">
          <i class="bi bi-person-circle"></i>
          <span>Müfettiş Tanımlama</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link " href="mufettisBilgileri.html">
          <i class="bi bi-person-circle"></i>
          <span>Müfettiş Bilgileri</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link " href="uniteTanimla.html">
          <i class="bi bi-person-circle"></i>
          <span>Ünite Tanımlama</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#components-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-menu-button-wide"></i><span>Görevler</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="components-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
          <li>
            <a href="periyodikteftis.html">
              <i class="bi bi-circle"></i><span>Periyodik Teftiş</span>
            </a>
          </li>
          <li>
            <a href="inceleme.html">
              <i class="bi bi-circle"></i><span>İnceleme</span>
            </a>
          </li>
          <li>
            <a href="sorusturma.html">
              <i class="bi bi-circle"></i><span>Soruşturma</span>
            </a>
          </li>
        </ul>
      </li><!-- End Components Nav -->
  </aside><!-- End Sidebar-->
  
    <main id="main" class="main">

        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Pills Tabs</h5>

                <!-- Pills Tabs -->
                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill"
                            data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home"
                            aria-selected="true">Kayıt Formu</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill"
                            data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile"
                            aria-selected="false">Listele</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill"
                            data-bs-target="#pills-contact" type="button" role="tab" aria-controls="pills-contact"
                            aria-selected="false">Contact</button>
                    </li>
                </ul>
                <div class="tab-content pt-2" id="myTabContent">
                    <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="home-tab">
                        <!-- Vertical Form -->
                        <form class="row g-3">
                            <div class="col-12">
                                <label class="form-label">İsim</label>
                                <input type="text" class="form-control" id="P_Isim">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Soy İsim</label>
                                <input type="text" class="form-control" id="P_Soyisim">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Email Adresi</label>
                                <input type="email" class="form-control" id="P_Email" placeholder="name@example.com">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Şifre</label>
                                <input type="password" class="form-control" id="P_Sifre">
                            </div>
                            <div class="col-12">
                                <label class="form-label">TC Kimlik No</label>
                                <input type="number" class="form-control" id="P_TcNo">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Doğum Tarihi</label>
                                <input type="date" class="form-control" id="P_DogumTarihi">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Doğum Yeri</label>
                                <input type="text" class="form-control" id="P_DogumYeri">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Baba Adı</label>
                                <input type="text" class="form-control" id="P_BabaAdi">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Medeni Hali</label>
                                <select id="P_MedeniHal" class="form-select">
                                    <option>Evli</option>
                                    <option>Bekar</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label class="form-label">Mezun Olduğu Okul</label>
                                <input type="text" class="form-control" id="P_MezunOkul">
                            </div>
                            <div class="col-12">
                                <label class="form-label">İşe Başlama Tarihi</label>
                                <input type="date" class="form-control" id="P_IseBaslama">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Kurum Sicil No</label>
                                <input type="number" class="form-control" id="P_SicilNo">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Müfettiş No</label>
                                <input type="number" class="form-control" id="P_MufettisNo">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Unvan</label>
                                <select id="P_Unvan" class="form-select">
                                    <option>Müfettiş Yardımcısı</option>
                                    <option>Müfettiş</option>
                                    <option>Başmüfettiş</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label class="form-label">Çalışma Durumu</label>
                                <select id="P_CalismaDurumu" class="form-select">
                                    <option>Aktif</option>
                                    <option>Pasif</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label class="form-label">Telefon</label>
                                <input type="number" class="form-control" id="P_Telefon" placeholder="+90/">
                            </div>
                            <div class="col-12">
                                <label class="form-label">Adres</label>
                                <input type="text" class="form-control" id="P_Adres" placeholder="1234 Main St">
                            </div>
                            <div class="text-center">
                                <button type="button" class="btn btn-primary" onclick="getValues()">Submit</button>
                                <button type="reset" class="btn btn-secondary">Reset</button>
                            </div>
                        </form><!-- Vertical Form -->
                    </div>
                    <div class="tab-pane fade col-xs-1 text-center" id="pills-profile" role="tabpanel"
                        aria-labelledby="profile-tab">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Sicil No</th>
                                    <th>Ad</th>
                                    <th>Soyad</th>
                                    <th>Detaylar</th>
                                </tr>
                            </thead>
                            <tbody id="table">

                            </tbody>
                        </table>
                    </div>
                    <div class=" tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="contact-tab">
                        Saepe animi et soluta ad odit soluta sunt. Nihil quos omnis animi debitis
                        cumque. Accusantium
                        quibusdam perspiciatis qui qui omnis magnam. Officiis accusamus impedit
                        molestias nostrum
                        veniam. Qui amet ipsum iure. Dignissimos fuga tempore dolor.
                    </div>
                </div><!-- End Pills Tabs -->

            </div>
        </div>

    </main>

    <!-- ======= Footer ======= -->
    <footer id=" footer" class="footer">
        <div class="copyright">
            &copy; Copyright <strong><span>NiceAdmin</span></strong>. All Rights Reserved
        </div>
        <div class="credits">
        </div>
    </footer><!-- End Footer -->

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>

    <!-- Vendor JS Files -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/chart.js/chart.umd.js"></script>
    <script src="assets/vendor/echarts/echarts.min.js"></script>
    <script src="assets/vendor/quill/quill.min.js"></script>
    <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
    <script src="assets/vendor/tinymce/tinymce.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script src="assets/js/main.js"></script>
    <script>
        function getValues() {
            let datas = {
                Isim: document.getElementById("P_Isim").value,
                Soyisim: document.getElementById("P_Soyisim").value,
                Email: document.getElementById("P_Email").value,
                Sifre: document.getElementById("P_Sifre").value,
                TcNo: document.getElementById("P_TcNo").value,
                DogumTarihi: document.getElementById("P_DogumTarihi").value,
                DogumYeri: document.getElementById("P_DogumYeri").value,
                BabaAdi: document.getElementById("P_BabaAdi").value,
                MedeniHal: document.getElementById("P_MedeniHal").value,
                MezunOkul: document.getElementById("P_MezunOkul").value,
                IseBaslama: document.getElementById("P_IseBaslama").value,
                KurumSicilNo: document.getElementById("P_SicilNo").value,
                MufettisNo: document.getElementById("P_MufettisNo").value,
                Unvan: document.getElementById("P_Unvan").value,
                CalismaDurumu: document.getElementById("P_CalismaDurumu").value,
                Telefon: document.getElementById("P_Telefon").value,
                Adres: document.getElementById("P_Adres").value
            }

            axios.post(`https://localhost:7177/api/Mufettis/mufettis`, datas)
                .then(function (response) {
                    console.log(response.data);

                })
                .catch(function (error) {
                    // handle error
                    alert("Olmadı");
                })
                .finally(function () {
                    // always executed
                });
        }

        axios.get(`https://localhost:7177/api/Mufettis/mufettis`).then((response) => {
            console.log(response.data);

            var myArray = []
            myArray = response.data;
            var table = document.getElementById("table");
            table.innerHTML = "";
            myArray.forEach(x => {
                var tr = "";

                tr += '<tr>';
                tr += '<td>' + x.kurumSicilNo + '</td>' + '<td>' + x.isim + '</td>' + '<td>' + x.soyisim + '</td>' + '<td><a href="mufettisBilgileri.html">Detay</a></td>';
                tr += '</tr>';
                table.innerHTML += tr;
            });

        });






            // var table = document.getElementById("table");
            // for (let i = 1; i < myArray.length; i++) {


            //     var row = `<tr>
            //                 <td>${myArray(i).KurumSicilNo}</td>
            //                 <td>${myArray[i].Isim}</td>
            //                 <td>${myArray[i].Soyisim}</td>
            //                 <td><a href="mufettisBilgileri.html">Detay</a></td>
            //             </tr>`;
            //     table.innerHTML += row;


            // }


        // })





    </script>
</body>

</html>